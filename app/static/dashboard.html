<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Red de Apoyo - Maxocracia</title>
    <link rel="stylesheet" href="css/vhv.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="dashboard-sidebar">
            <div class="sidebar-header">
                <h2>Maxocracia</h2>
                <span class="badge-beta">BETA</span>
            </div>

            <nav class="sidebar-nav">
                <a href="index.html" class="nav-item">
                    <span class="icon">üè†</span> Inicio
                </a>
                <a href="#" class="nav-item active">
                    <span class="icon">üìä</span> Dashboard
                </a>
                <a href="form-cero.html" class="nav-item">
                    <span class="icon">üìù</span> Inscripci√≥n
                </a>
                <a href="form-exchange.html" class="nav-item">
                    <span class="icon">ü§ù</span> Intercambios
                </a>
                <a href="form-followup.html" class="nav-item">
                    <span class="icon">üìã</span> Seguimiento
                </a>
                <a href="vhv-calculator.html" class="nav-item">
                    <span class="icon">üßÆ</span> Calculadora VHV
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info" id="userInfo">
                    <div class="avatar">üë§</div>
                    <div class="details">
                        <span class="name">Usuario</span>
                        <span class="role">Facilitador</span>
                    </div>
                </div>
                <button id="btnLogout" class="btn-logout">Cerrar Sesi√≥n</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="dashboard-main">
            <header class="dashboard-header">
                <h1>Panel de Control - Red de Apoyo</h1>
                <div class="header-actions">
                    <span class="last-update">Actualizado: <span id="lastUpdate">Justo ahora</span></span>
                    <button id="refreshBtn" class="vhv-btn vhv-btn-secondary">üîÑ Actualizar</button>
                </div>
            </header>

            <!-- Overview Cards -->
            <section class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon participants">üë•</div>
                    <div class="stat-content">
                        <h3>Participantes</h3>
                        <p class="stat-value" id="totalParticipants">-</p>
                        <span class="stat-label">Activos en la red</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon exchanges">ü§ù</div>
                    <div class="stat-content">
                        <h3>Intercambios</h3>
                        <p class="stat-value" id="totalExchanges">-</p>
                        <span class="stat-label">Total registrados</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon uth">‚è≥</div>
                    <div class="stat-content">
                        <h3>UTH Movilizadas</h3>
                        <p class="stat-value" id="totalUth">-</p>
                        <span class="stat-label">Horas de talento</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon health">‚ù§Ô∏è</div>
                    <div class="stat-content">
                        <h3>Salud de Red</h3>
                        <p class="stat-value" id="networkHealth">-</p>
                        <span class="stat-label">Nivel de necesidad (1-5)</span>
                    </div>
                </div>
            </section>

            <div class="dashboard-grid-layout">
                <!-- Left Column: Charts & Network -->
                <div class="main-column">
                    <!-- Charts Row -->
                    <div class="charts-row">
                        <div class="vhv-card chart-card">
                            <div class="vhv-card-header">
                                <h3 class="vhv-card-title">Distribuci√≥n de Urgencia</h3>
                            </div>
                            <div class="chart-container">
                                <canvas id="urgencyChart"></canvas>
                            </div>
                        </div>

                        <div class="vhv-card chart-card">
                            <div class="vhv-card-header">
                                <h3 class="vhv-card-title">Prioridad de Seguimientos</h3>
                            </div>
                            <div class="chart-container">
                                <canvas id="priorityChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Network Flow -->
                    <div class="vhv-card">
                        <div class="vhv-card-header">
                            <h3 class="vhv-card-title">Flujo de la Red</h3>
                            <p class="vhv-card-subtitle">Top contribuidores y receptores</p>
                        </div>
                        <div class="network-tables">
                            <div class="network-column">
                                <h4>üèÜ Top Givers</h4>
                                <table class="simple-table" id="topGiversTable">
                                    <thead>
                                        <tr>
                                            <th>Usuario ID</th>
                                            <th>Intercambios</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Populated by JS -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="network-column">
                                <h4>üì• Top Receivers</h4>
                                <table class="simple-table" id="topReceiversTable">
                                    <thead>
                                        <tr>
                                            <th>Usuario ID</th>
                                            <th>Intercambios</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Populated by JS -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="network-column">
                                <h4>üåü Hub Nodes</h4>
                                <table class="simple-table" id="hubNodesTable">
                                    <thead>
                                        <tr>
                                            <th>Usuario ID</th>
                                            <th>Dar/Recibir</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Populated by JS -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Alerts -->
                <aside class="alerts-column">
                    <div class="vhv-card alerts-card">
                        <div class="vhv-card-header">
                            <h3 class="vhv-card-title">üö® Alertas Activas</h3>
                            <span class="badge-count" id="alertCount">0</span>
                        </div>
                        <div class="alerts-list" id="alertsList">
                            <!-- Populated by JS -->
                            <div class="empty-state">
                                <p>No hay alertas activas</p>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </main>
    </div>

    <script src="js/dashboard.js"></script>
</body>

</html>