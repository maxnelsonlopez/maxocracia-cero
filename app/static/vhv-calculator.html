<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Calculadora del Vector de Huella Vital (VHV) - Maxocracia. Calcula el verdadero costo existencial de productos y servicios.">
  <meta name="color-scheme" content="light dark">
  <title>Calculadora VHV - Maxocracia</title>
  <link rel="stylesheet" href="/static/css/vhv.css">
  <link rel="stylesheet" href="/static/css/dashboard.css">
</head>

<body>
  <div class="dashboard-main">
    <header class="vhv-hero">
      <h1 class="vhv-hero-title">Calculadora VHV</h1>
      <p class="vhv-hero-subtitle">
        Vector de Huella Vital: La verdadera contabilidad del costo existencial
      </p>
      <div class="vhv-formula"
        aria-label="Fórmula: Precio en Maxos igual a alfa por T más beta por V elevado a gamma más delta por R">
        Precio_Maxos = α·T + β·V<sup>γ</sup> + δ·R
      </div>
    </header>

    <main id="main-content" class="vhv-container">
      <!-- Navigation Tabs -->
      <nav class="vhv-tabs" role="tablist" aria-label="Secciones de la calculadora">
        <button class="vhv-tab active" data-tab="calculator" role="tab" aria-selected="true"
          aria-controls="calculator-tab" id="tab-calculator">Calculadora</button>
        <button class="vhv-tab" data-tab="comparison" role="tab" aria-selected="false" aria-controls="comparison-tab"
          id="tab-comparison">Comparar</button>
        <button class="vhv-tab" data-tab="case-studies" role="tab" aria-selected="false"
          aria-controls="case-studies-tab" id="tab-case-studies">Casos</button>
        <button class="vhv-tab" data-tab="parameters" role="tab" aria-selected="false" aria-controls="parameters-tab"
          id="tab-parameters">Parámetros</button>
      </nav>

      <!-- Calculator Tab -->
      <div class="vhv-tab-content active" id="calculator-tab" role="tabpanel" aria-labelledby="tab-calculator">
        <div class="vhv-grid">
          <!-- Input Form -->
          <div class="vhv-card">
            <div class="vhv-card-header">
              <h2 class="vhv-card-title">Datos del Producto</h2>
              <p class="vhv-card-subtitle">Ingresa los valores para calcular el VHV</p>
            </div>

            <form id="vhv-form">
              <!-- Product Name -->
              <div class="vhv-form-group">
                <label class="vhv-label">Nombre del Producto</label>
                <input type="text" class="vhv-input" id="product-name" placeholder="ej: Huevo Ético" required>
              </div>

              <!-- Component T (Time) -->
              <div class="vhv-card-header">
                <h3 class="vhv-card-title">
                  <span class="vhv-component-badge time">T</span> Componente Temporal
                </h3>
              </div>

              <div class="vhv-form-group">
                <label class="vhv-label">Horas Directas</label>
                <div class="vhv-input-group">
                  <input type="number" class="vhv-input" id="t-direct" step="0.01" value="1.0" required>
                  <span class="vhv-input-addon">h</span>
                </div>
              </div>

              <div class="vhv-form-group">
                <label class="vhv-label">Horas Heredadas</label>
                <div class="vhv-input-group">
                  <input type="number" class="vhv-input" id="t-inherited" step="0.01" value="0" required>
                  <span class="vhv-input-addon">h</span>
                </div>
              </div>

              <div class="vhv-form-group">
                <label class="vhv-label">Horas Futuras</label>
                <div class="vhv-input-group">
                  <input type="number" class="vhv-input" id="t-future" step="0.01" value="0" required>
                  <span class="vhv-input-addon">h</span>
                </div>
              </div>

              <!-- Component V (Life) -->
              <div class="vhv-card-header">
                <h3 class="vhv-card-title">
                  <span class="vhv-component-badge life">V</span> Componente Vital
                </h3>
              </div>

              <div class="vhv-form-group">
                <label class="vhv-label">Organismos Afectados</label>
                <input type="number" class="vhv-input" id="v-organisms" step="0.0001" value="0.001" required>
              </div>

              <div class="vhv-form-group">
                <label class="vhv-label">Factor de Consciencia (0.01 - 1.0)</label>
                <input type="number" class="vhv-input" id="v-consciousness" step="0.01" min="0.01" max="1" value="0.5"
                  required>
              </div>

              <div class="vhv-form-group">
                <label class="vhv-label">Factor de Sufrimiento (≥ 1.0)</label>
                <input type="number" class="vhv-input" id="v-suffering" step="0.1" min="1" value="1.0" required>
              </div>

              <div class="vhv-form-group">
                <label class="vhv-label">Factor de Abundancia</label>
                <input type="number" class="vhv-input" id="v-abundance" step="0.0001" value="1.0" required>
              </div>

              <div class="vhv-form-group">
                <label class="vhv-label">Factor de Rareza</label>
                <input type="number" class="vhv-input" id="v-rarity" step="0.1" value="1.0" required>
              </div>

              <!-- Component R (Resources) -->
              <div class="vhv-card-header">
                <h3 class="vhv-card-title">
                  <span class="vhv-component-badge resource">R</span> Componente de Recursos
                </h3>
              </div>

              <div class="vhv-grid" style="grid-template-columns: 1fr 1fr; gap: var(--space-sm);">
                <div class="vhv-form-group">
                  <label class="vhv-label">Minerales (kg)</label>
                  <input type="number" class="vhv-input" id="r-minerals" step="0.01" value="0" required>
                </div>
                <div class="vhv-form-group">
                  <label class="vhv-label">Agua (m³)</label>
                  <input type="number" class="vhv-input" id="r-water" step="0.01" value="0" required>
                </div>
              </div>

              <div class="vhv-grid" style="grid-template-columns: 1fr 1fr; gap: var(--space-sm);">
                <div class="vhv-form-group">
                  <label class="vhv-label">Petróleo (L)</label>
                  <input type="number" class="vhv-input" id="r-petroleum" step="0.01" value="0" required>
                </div>
                <div class="vhv-form-group">
                  <label class="vhv-label">Tierra (ha)</label>
                  <input type="number" class="vhv-input" id="r-land" step="0.01" value="0" required>
                </div>
              </div>

              <div class="vhv-grid" style="grid-template-columns: 1fr 1fr; gap: var(--space-sm);">
                <div class="vhv-form-group">
                  <label class="vhv-label">FRG (0-1)</label>
                  <input type="number" class="vhv-input" id="r-frg" step="0.01" value="1.0" required>
                </div>
                <div class="vhv-form-group">
                  <label class="vhv-label">CS (0-1)</label>
                  <input type="number" class="vhv-input" id="r-cs" step="0.01" value="1.0" required>
                </div>
              </div>

              <div class="vhv-grid"
                style="grid-template-columns: 1fr 1fr; gap: var(--space-sm); margin-top: var(--space-md);">
                <button type="button" class="vhv-btn vhv-btn-outline" id="load-example">Ejemplo</button>
                <button type="submit" class="vhv-btn vhv-btn-primary">Calcular</button>
              </div>
            </form>
          </div>

          <!-- Results -->
          <div class="vhv-card">
            <div class="vhv-card-header">
              <h2 class="vhv-card-title">Resultados</h2>
            </div>

            <div id="results-container" style="display: none;">
              <div class="vhv-result">
                <div class="vhv-result-label">Precio en Maxos</div>
                <div class="vhv-result-value">
                  <span id="maxo-price">0</span> Ⓜ
                </div>
              </div>

              <div class="vhv-result-breakdown">
                <div class="vhv-breakdown-item">
                  <div class="vhv-breakdown-label"><span class="vhv-component-badge time">T</span></div>
                  <div class="vhv-breakdown-value" id="vhv-t">0</div>
                </div>
                <div class="vhv-breakdown-item">
                  <div class="vhv-breakdown-label"><span class="vhv-component-badge life">V</span></div>
                  <div class="vhv-breakdown-value" id="vhv-v">0</div>
                </div>
                <div class="vhv-breakdown-item">
                  <div class="vhv-breakdown-label"><span class="vhv-component-badge resource">R</span></div>
                  <div class="vhv-breakdown-value" id="vhv-r">0</div>
                </div>
              </div>

              <div class="vhv-chart-container">
                <canvas id="vhv-chart"></canvas>
              </div>

              <button class="vhv-btn vhv-btn-primary" id="save-product"
                style="width: 100%; margin-top: var(--space-lg);">
                Guardar Producto
              </button>
            </div>

            <div id="results-placeholder"
              style="text-align: center; padding: var(--space-2xl); color: var(--color-text-secondary);">
              <p>Calcula para ver resultados</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Comparison Tab -->
      <div class="vhv-tab-content" id="comparison-tab" role="tabpanel" aria-labelledby="tab-comparison">
        <div class="vhv-card">
          <div class="vhv-card-header">
            <h2 class="vhv-card-title">Comparar</h2>
          </div>
          <div id="comparison-container">
            <p style="text-align: center; color: var(--color-text-secondary);">Cargando...</p>
          </div>
        </div>
      </div>

      <!-- Case Studies Tab -->
      <div class="vhv-tab-content" id="case-studies-tab" role="tabpanel" aria-labelledby="tab-case-studies">
        <div class="vhv-card">
          <div class="vhv-card-header">
            <h2 class="vhv-card-title">Casos de Estudio</h2>
          </div>
          <div id="case-studies-container">
            <p style="text-align: center; color: var(--color-text-secondary);">Cargando...</p>
          </div>
        </div>
      </div>

      <!-- Parameters Tab -->
      <div class="vhv-tab-content" id="parameters-tab" role="tabpanel" aria-labelledby="tab-parameters">
        <div class="vhv-card">
          <div class="vhv-card-header">
            <h2 class="vhv-card-title">Parámetros</h2>
          </div>
          <div id="parameters-container">
            <p style="text-align: center; color: var(--color-text-secondary);">Cargando...</p>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="/static/js/api.js"></script>
  <script src="/static/js/ui-shell.js"></script>
  <script src="/static/js/vhv-calculator.js"></script>
</body>

</html>